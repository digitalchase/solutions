"use strict";!function(){var t=function(){function t(n,a){var r=this;if(this.state={el:function(){if(r.is("String",n))return document.querySelector(n);throw"first argument must be a String"}(),options:function(){var t=document.querySelector(n);if(console.log(t.hasAttribute("_dc-data-placeholder")),r.is("Object",a)||void 0===a){var e={mask:t.hasAttribute("_dc-data-mask")?t.getAttribute("_dc-data-mask"):"",cursorMoveEnd:!!t.hasAttribute("_dc-data-cursor-move-end"),placeholder:t.hasAttribute("_dc-data-placeholder")?t.getAttribute("_dc-data-placeholder"):""};return Object.assign({},e,a)}throw"second argument must be an Object"}()},""===this.state.options.mask)throw"argument mask is required";this.init()}var e=t.prototype;return e.is=function(t,e){var n=Object.prototype.toString.call(e).slice(8,-1);return null!=e&&n===t},e.init=function(){this.setParamsDefault(),this.bindEvent()},e.setParamsDefault=function(){var t=this.state,e=t.el,n=t.options.placeholder;e.setAttribute("placeholder",n)},e.bindEvent=function(){var t=this,e=this.state.el;e.addEventListener("input",function(){return t.setMask(event)},!1),e.addEventListener("focus",function(){return t.setMask(event)},!1),e.addEventListener("blur",function(){return t.setMask(event)},!1)},e.setCursorPosition=function(t){var e=this.state,n=e.el,a=e.options.cursorMoveEnd;if(n.focus(),console.log(n.value),a)if(n.setSelectionRange)n.setSelectionRange(t,t);else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",t),r.select()}},e.setMask=function(t){var e=this.state,n=e.el,a=e.options.mask,r=0,s=a.replace(/\D/g,""),i=n.value.replace(/\D/g,"");s.length>=i.length&&(i=s),n.value=a.replace(/./g,function(t){return/[_\d]/.test(t)&&r<i.length?i.charAt(r++):r>=i.length?"":t}),"blur"==t.type?2==n.value.length&&(n.value=""):this.setCursorPosition(n.value.length)},t}();window.DcNumberMask=t}();
